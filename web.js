function e(){let a=document.getElementById("searchInput"),r=document.getElementById("categoryFilter"),i=a.value.trim().toLowerCase(),l=r.value,c=document.querySelectorAll(".card"),s=document.getElementById("noResultsMessage"),d=0;c.forEach((a,r)=>{let c=a.querySelector("h3").textContent.toLowerCase(),s=a.querySelector("p").textContent.toLowerCase(),p=null!==a.querySelector(".card-badge"),y=""===i||c.includes(i)||s.includes(i),f=!0;"key"===l?f=p:"date"===l&&(f=!0),y&&f?(d++,a.style.display="flex",a.classList.remove("search-match"),a.offsetWidth,a.classList.add("search-match"),a.style.transitionDelay=.05*r+"s"):a.style.display="none"}),"date"===l&&function(){let a=document.getElementById("cardsContainer"),r=Array.from(document.querySelectorAll('.card[style*="display: flex"]'));r.reverse().forEach(r=>{a.appendChild(r)})}(),0!==d||""===i&&"all"===l?s.style.display="none":(s.style.display="block",s.style.animation="fadeIn 0.5s ease"),""===i&&"all"===l||setTimeout(()=>{document.querySelector(".cards-container").scrollIntoView({behavior:"smooth"})},300)}function t(a,r){let i=document.createElement("textarea");i.value=a,i.style.position="fixed",document.body.appendChild(i),i.select();try{document.execCommand("copy"),o("Script copied to clipboard!"),r&&n(r)}catch(l){console.error("Fallback copy failed:",l),o("Failed to copy script")}document.body.removeChild(i)}function n(a){let r=a.innerHTML;a.innerHTML='<i class="fas fa-check"></i> Copied!',a.classList.add("clicked"),setTimeout(()=>{a.innerHTML=r,a.classList.remove("clicked")},2e3)}function o(a){let r=document.getElementById("toast");r.textContent=a,r.classList.add("show"),setTimeout(()=>{r.classList.remove("show")},3e3)}document.addEventListener("DOMContentLoaded",()=>{(function(){let a=document.getElementById("background"),r=Math.floor(window.innerWidth/20),i=[];for(let l=0;l<r;l++){let c=document.createElement("div");c.className="orb";let s=4*Math.random()+1,d=Math.random()*(window.innerWidth+100)-50,p=Math.random()*(window.innerHeight+100)-50,y=(.5*Math.random()-.25)*(Math.random()>.5?1:-1),f=2*Math.random()+1,h=.4*Math.random()+.3;c.style.cssText=`
          width: ${s}px;
          height: ${s}px;
          left: ${d}px;
          top: ${p}px;
          opacity: ${h};
        `,c.dataset.speedX=y,c.dataset.speedY=f,a.appendChild(c),i.push(c)}(function a(){i.forEach(a=>{let r=parseFloat(a.style.left),i=parseFloat(a.style.top),l=r+parseFloat(a.dataset.speedX),c=i+parseFloat(a.dataset.speedY);c>window.innerHeight+50&&(c=-50,l=Math.random()*window.innerWidth),l>window.innerWidth+50?l=-50:l<-50&&(l=window.innerWidth+50),a.style.left=`${l}px`,a.style.top=`${c}px`}),requestAnimationFrame(a)})()})(),function(){let a=document.querySelectorAll(".card"),r=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&(a.target.classList.add("visible"),r.unobserve(a.target))})},{threshold:.1});a.forEach((a,i)=>{a.style.transitionDelay=.1*i+"s",r.observe(a)})}(),function(){let a=document.getElementById("searchInput");a.addEventListener("keypress",a=>{"Enter"===a.key&&e()}),a.addEventListener("keyup",r=>{"Enter"===r.key&&""===a.value.trim()&&e()})}(),document.getElementById("categoryFilter").addEventListener("change",e),function(){let a=document.getElementById("dropdownMenu"),r=document.getElementById("menuButton");if(r.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation(),a.classList.toggle("active")}),document.addEventListener("click",function(r){a.contains(r.target)||a.classList.remove("active")}),window.innerWidth>768){let i=r.querySelector(".fa-chevron-down");a.addEventListener("mouseenter",function(){a.classList.add("active"),i.style.transform="rotate(180deg)"}),a.addEventListener("mouseleave",function(){a.classList.remove("active"),i.style.transform="rotate(0)"})}window.addEventListener("resize",function(){window.innerWidth>768&&a.classList.remove("active")})}()}),window.copyToClipboard=function(a,r){let i=`loadstring(game:HttpGet('${a}'))()`;navigator.clipboard?navigator.clipboard.writeText(i).then(()=>{o("Script copied to clipboard!"),r&&n(r)}).catch(a=>{console.error("Failed to copy:",a),t(i,r)}):t(i,r)},window.filterCards=e,window.toggleRawScript=function(a){let r=a.nextElementSibling;r.classList.toggle("active"),r.classList.contains("active")?(a.innerHTML='<i class="fas fa-chevron-up"></i> Hide Raw Script',r.scrollIntoView({behavior:"smooth",block:"nearest"})):a.innerHTML='<i class="fas fa-chevron-down"></i> View Raw Script'},window.copyRawScript=function(a){let r=a.querySelector("pre").textContent;if(navigator.clipboard)navigator.clipboard.writeText(r).then(()=>{o("Raw script copied to clipboard!");let r=a.querySelector(".copy-raw-btn"),i=r.innerHTML;r.innerHTML='<i class="fas fa-check"></i> Copied!',setTimeout(()=>{r.innerHTML=i},2e3)}).catch(a=>{console.error("Failed to copy raw script:",a),o("Failed to copy raw script")});else{let i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.select();try{document.execCommand("copy"),o("Raw script copied to clipboard!");let l=a.querySelector(".copy-raw-btn"),c=l.innerHTML;l.innerHTML='<i class="fas fa-check"></i> Copied!',setTimeout(()=>{l.innerHTML=c},2e3)}catch(s){console.error("Fallback copy failed:",s),o("Failed to copy raw script")}document.body.removeChild(i)}}
